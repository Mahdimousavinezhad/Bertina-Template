<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>افکت تایپ روی متن موجود</title>
    <style>
      .typing-effect {
        font-size: 18px;
        line-height: 1.6;
        white-space: pre-wrap;
      }

      .typing-effect::after {
        content: "|";
        display: inline-block;
        margin-right: 3px;
        animation: blink 1s infinite;
        color: #333;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <!-- المنت موجود با متن آماده -->
    <div id="myText" class="typing-effect">
      این متن به صورت انیمیشن تایپ نمایش داده خواهد شد! مزایای این روش: - بدون
      نیاز به المنت اضافی - متن مستقیم در سورس قابل مشاهده است - ساده و سبک
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const textElement = document.getElementById("myText");

        // ذخیره متن اصلی و پاک کردن موقت
        const originalText = textElement.innerHTML;
        textElement.innerHTML = "";

        let i = 0;
        const speed = 50;

        function animateText() {
          if (i < originalText.length) {
            textElement.innerHTML =
              originalText.substring(0, i + 1) +
              '<span aria-hidden="true"></span>';

            // تاخیر بیشتر برای خطوط جدید
            const delay = originalText.charAt(i) === "\n" ? speed * 3 : speed;
            setTimeout(animateText, delay);
            i++;
          } else {
            // حذف مکان‌نمای اضافی
            textElement.innerHTML = originalText;
          }
        }

        // شروع انیمیشن
        setTimeout(animateText, 500);
      });
    </script>
  </body>
</html>
